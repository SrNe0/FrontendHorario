{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nfunction DragdropComponent_Conditional_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Archivo seleccionado: \", ctx_r2.fileName, \"\");\n  }\n}\nexport let DragdropComponent = /*#__PURE__*/(() => {\n  class DragdropComponent {\n    dragging = false;\n    fileName = null;\n    fileUploaded = new EventEmitter();\n    closed = new EventEmitter(); // Nuevo Output para el cierre\n    onDragOver(event) {\n      event.preventDefault();\n      this.dragging = true;\n    }\n    onDragLeave(event) {\n      this.dragging = false;\n    }\n    onDrop(event) {\n      event.preventDefault();\n      this.dragging = false;\n      const files = event.dataTransfer?.files;\n      if (files && files.length > 0) {\n        this.handleFile(files[0]);\n      }\n    }\n    onFileSelected(event) {\n      const input = event.target;\n      if (input.files && input.files.length > 0) {\n        this.handleFile(input.files[0]);\n      }\n    }\n    handleFile(file) {\n      if (file.type === 'text/csv') {\n        this.fileName = file.name;\n        this.fileUploaded.emit(file); // Emitir el archivo cargado\n      } else {\n        alert('Por favor, sube un archivo CSV válido.');\n      }\n    }\n    closeDragDrop() {\n      this.closed.emit(); // Emitir el evento de cierre\n    }\n    static ɵfac = function DragdropComponent_Factory(t) {\n      return new (t || DragdropComponent)();\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: DragdropComponent,\n      selectors: [[\"app-dragdrop\"]],\n      outputs: {\n        fileUploaded: \"fileUploaded\",\n        closed: \"closed\"\n      },\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 14,\n      vars: 3,\n      consts: [[\"fileInput\", \"\"], [1, \"mcontainer\"], [1, \"content\"], [1, \"content-body\"], [1, \"bt-position\"], [1, \"btn\", \"btn-mdg\", 3, \"click\"], [1, \"drag-drop-content\", 3, \"dragover\", \"dragleave\", \"drop\"], [1, \"drag-drop-text\"], [\"type\", \"file\", \"accept\", \".csv\", \"hidden\", \"\", 3, \"change\"], [1, \"btn\", \"btn-primary\", \"btn-select-file\", 3, \"click\"], [1, \"file-info\"]],\n      template: function DragdropComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          const _r1 = i0.ɵɵgetCurrentView();\n          i0.ɵɵelementStart(0, \"div\", 1)(1, \"div\", 2)(2, \"div\", 3)(3, \"div\", 4)(4, \"button\", 5);\n          i0.ɵɵlistener(\"click\", function DragdropComponent_Template_button_click_4_listener() {\n            i0.ɵɵrestoreView(_r1);\n            return i0.ɵɵresetView(ctx.closeDragDrop());\n          });\n          i0.ɵɵtext(5, \"X\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(6, \"div\", 6);\n          i0.ɵɵlistener(\"dragover\", function DragdropComponent_Template_div_dragover_6_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            return i0.ɵɵresetView(ctx.onDragOver($event));\n          })(\"dragleave\", function DragdropComponent_Template_div_dragleave_6_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            return i0.ɵɵresetView(ctx.onDragLeave($event));\n          })(\"drop\", function DragdropComponent_Template_div_drop_6_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            return i0.ɵɵresetView(ctx.onDrop($event));\n          });\n          i0.ɵɵelementStart(7, \"p\", 7);\n          i0.ɵɵtext(8, \"Arrastra y suelta tu archivo CSV aqu\\u00ED, o haz clic para seleccionarlo\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"input\", 8, 0);\n          i0.ɵɵlistener(\"change\", function DragdropComponent_Template_input_change_9_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            return i0.ɵɵresetView(ctx.onFileSelected($event));\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(11, \"button\", 9);\n          i0.ɵɵlistener(\"click\", function DragdropComponent_Template_button_click_11_listener() {\n            i0.ɵɵrestoreView(_r1);\n            const fileInput_r2 = i0.ɵɵreference(10);\n            return i0.ɵɵresetView(fileInput_r2.click());\n          });\n          i0.ɵɵtext(12, \"Seleccionar archivo\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(13, DragdropComponent_Conditional_13_Template, 3, 1, \"div\", 10);\n          i0.ɵɵelementEnd()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(6);\n          i0.ɵɵclassProp(\"dragging\", ctx.dragging);\n          i0.ɵɵadvance(7);\n          i0.ɵɵconditional(ctx.fileName ? 13 : -1);\n        }\n      },\n      styles: [\".mcontainer[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;min-height:100vh;justify-content:center;align-content:center;background-color:#00000065}.content[_ngcontent-%COMP%]{display:flex;border-radius:10px;justify-content:center;align-content:center}.content-body[_ngcontent-%COMP%]{margin:auto;width:700px;padding:20px 20px 50px;display:flex;flex-direction:column;justify-content:center;background-color:#fafff4;border-radius:20px}.bt-position[_ngcontent-%COMP%]{display:flex;justify-content:end}.drag-drop-content[_ngcontent-%COMP%]{width:100%;background-color:#fafff4;max-width:500px;margin:0 auto;padding:60px 20px;border:2px dashed #161256;border-radius:10px;text-align:center;transition:.3s;cursor:pointer}.drag-drop-content[_ngcontent-%COMP%]:hover, .dragging[_ngcontent-%COMP%]{background-color:#fff;border:2px dashed #007bff;transition:.3s}.file-info[_ngcontent-%COMP%]{margin-top:15px}\"]\n    });\n  }\n  return DragdropComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}