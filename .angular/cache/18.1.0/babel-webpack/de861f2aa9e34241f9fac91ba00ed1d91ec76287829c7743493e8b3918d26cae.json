{"ast":null,"code":"import _asyncToGenerator from \"/home/srne0/Documents/Frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\nimport { firstValueFrom } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/api.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../../services/delay.service\";\nimport * as i4 from \"@angular/forms\";\nexport let LoginComponent = /*#__PURE__*/(() => {\n  class LoginComponent {\n    services;\n    router;\n    delayService;\n    VCR;\n    formulario;\n    constructor(services, router, delayService, VCR) {\n      this.services = services;\n      this.router = router;\n      this.delayService = delayService;\n      this.VCR = VCR;\n      this.formulario = new FormGroup({\n        username: new FormControl('', [Validators.required]),\n        password: new FormControl('', [Validators.required])\n      });\n    }\n    ngOnInit() {\n      this.delayService.setViewContainerRef(this.VCR);\n    }\n    onSubmit() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        _this.delayService.applyDelayWithLoading(1000).subscribe( /*#__PURE__*/_asyncToGenerator(function* () {\n          if (_this.formulario.valid) {\n            try {\n              const response = yield firstValueFrom(_this.services.authenticateLogin(_this.formulario.value));\n              if (!response.error) {\n                alert('Login successful');\n                if (typeof window !== 'undefined') {\n                  localStorage.setItem('token_user', response.jwt);\n                }\n                _this.router.navigate(['/home']);\n              }\n            } catch (error) {\n              console.error('Error during login:', error);\n              alert(error.message);\n            }\n          }\n        }));\n      })();\n    }\n    static ɵfac = function LoginComponent_Factory(t) {\n      return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.DelayService), i0.ɵɵdirectiveInject(i0.ViewContainerRef));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: LoginComponent,\n      selectors: [[\"app-login\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 21,\n      vars: 1,\n      consts: [[1, \"mcontainer\"], [1, \"content\"], [1, \"content-body\"], [3, \"ngSubmit\", \"formGroup\"], [1, \"ft-600\", \"tl-ft-s\", \"ft-cl-dkblue\", \"my-2\"], [1, \"ft-cl-green\", 2, \"font-size\", \"2.5rem\"], [1, \"data-grup\", \"my-4\"], [\"type\", \"text\", \"id\", \"username\", \"placeholder\", \"\", \"formControlName\", \"username\", 1, \"text\"], [\"for\", \"username\", 1, \"ft-500\"], [\"type\", \"password\", \"id\", \"userpassword\", \"placeholder\", \"\", \"formControlName\", \"password\", 1, \"text\"], [\"for\", \"userpassword\", 1, \"ft-500\"], [1, \"d-flex\", \"justify-content-center\", \"mt-3\"], [\"type\", \"submit\", \"value\", \"Enviar\", 1, \"btn\", \"my-btn\"], [1, \"w-100\", \"bg-img\"], [\"src\", \"assets/images/FondoUIS.png\"]],\n      template: function LoginComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"form\", 3);\n          i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_3_listener() {\n            return ctx.onSubmit();\n          });\n          i0.ɵɵelementStart(4, \"h2\", 4);\n          i0.ɵɵtext(5, \"Inicio de \");\n          i0.ɵɵelementStart(6, \"span\", 5);\n          i0.ɵɵtext(7, \"Sesi\\u00F3n\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(8, \"div\", 6);\n          i0.ɵɵelement(9, \"input\", 7);\n          i0.ɵɵelementStart(10, \"label\", 8);\n          i0.ɵɵtext(11, \"Ingrese su usuario\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(12, \"div\", 6);\n          i0.ɵɵelement(13, \"input\", 9);\n          i0.ɵɵelementStart(14, \"label\", 10);\n          i0.ɵɵtext(15, \"Ingrese su contrase\\u00F1a\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(16, \"div\", 11)(17, \"button\", 12);\n          i0.ɵɵtext(18, \"Ingresar\");\n          i0.ɵɵelementEnd()()()()()();\n          i0.ɵɵelementStart(19, \"div\", 13);\n          i0.ɵɵelement(20, \"img\", 14);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"formGroup\", ctx.formulario);\n        }\n      },\n      dependencies: [ReactiveFormsModule, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.FormGroupDirective, i4.FormControlName, FormsModule],\n      styles: [\".mcontainer[_ngcontent-%COMP%]{width:100%;display:flex;height:83.8vh;justify-content:center;position:absolute;z-index:1}.content[_ngcontent-%COMP%]{width:35%;justify-content:center;margin:120px}.content-body[_ngcontent-%COMP%]{background-color:#f7fbefcc;padding:50px 5px;border-radius:20px}.content-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.bg-img[_ngcontent-%COMP%]{overflow:hidden;width:100%;height:83.8vh;display:flex;justify-content:center}.bg-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:blur(4px);height:100%}.tl-ft-s[_ngcontent-%COMP%]{font-size:2.5rem;text-align:center}.data-grup[_ngcontent-%COMP%]{display:flex;align-self:center;width:80%;align-items:center}.data-grup[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;background-color:transparent;padding:5px;border:none;border-bottom:3px solid #1B1B3B;transition:transform .6s,color .8s,border-bottom .8s background-color .8s}.data-grup[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-left:5px;position:absolute;pointer-events:none}.data-grup[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover, .data-grup[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{border:none;border-bottom:3px solid #91BC31;transition:transform .6s,color .8s,border-bottom .8s}.data-grup[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover ~ label[_ngcontent-%COMP%]{color:#91bc31;transition:transform .6s,color .8s,border-bottom .8s}.data-grup[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border:none;border-bottom:3px solid #566d22;background-color:#90bc3133;transition:transform .6s,color .8s,border-bottom .8s,background-color .8s}.data-grup[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus ~ label[_ngcontent-%COMP%]{color:#566d22;transition:transform .6s,color .8s}.data-grup[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus ~ label[_ngcontent-%COMP%], .data-grup[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown) ~ label[_ngcontent-%COMP%], .data-grup[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:empty) ~ label[_ngcontent-%COMP%]{transform:translateY(-35px)}.my-btn[_ngcontent-%COMP%]{width:35%;padding:15px 30px;background-color:#161256;color:#f8f8f8;transition:background-color .8s}.my-btn[_ngcontent-%COMP%]:hover{background-color:#2216c5;transition:background-color .8s}\"]\n    });\n  }\n  return LoginComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}